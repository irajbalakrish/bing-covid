<h1 class="itemspace" id="tableLabel">Covid Data from Microsoft Bing <span class="card__category"> Updated : {{forecasts?.lastUpdated | date:'medium' }}</span></h1>

<p class="card__category" *ngIf="!forecasts"><em>Loading...</em></p>

<section class="itemspace cards">

  <article class="card card--1">
    <div class="card__img"></div>
    <a target="_blank" href="https://www.who.int/emergencies/diseases/novel-coronavirus-2019/situation-reports" class="card_link">
      <div class="card__img--hover"></div>

      <div class="card__info">
        <span class="card__category"><mark> WORLDWIDE</mark></span>
        <div class="card__title">
          <p>Confirmed : {{forecasts?.totalConfirmed | number}}</p>
          <p>Recovered : {{forecasts?.totalRecovered | number}}</p>
          <p>Deaths : {{forecasts?.totalDeaths | number}}</p>
        </div>
        <span class=" card__title card__by">Click the tile for <a href="#" class="card__author" title="author">Official Information</a></span>
      </div>
    </a>
  </article>

  <article class="card card--2">
    <div class="card__info-hover">
    </div>
    <div class="card__img"></div>
    <a target="_blank" href="https://www.rivm.nl/en/news/current-information-about-novel-coronavirus-covid-19" class="card_link">
      <div class="card__img--hover"></div>

      <div class="card__info">
        <span class="card__category"><mark> NETHERLANDS</mark></span>
        <div class="card__title" *ngFor="let area of forecasts?.areas">
          <div *ngIf="area.id=='netherlands'">
            <p>Confirmed : {{area?.totalConfirmed | number}}</p>
            <p>Recovered : {{area?.totalRecovered | number}}</p>
            <p>Deaths : {{area?.totalDeaths | number}}</p>
          </div>
        </div>
        <span class="card__title card__by">Click the tile for <a href="#" class="card__author" title="author">Official Information</a></span>
      </div>
    </a>
  </article>

  <article class="card card--3">
    <div class="card__info-hover">
    </div>
    <div class="card__img"></div>
    <a target="_blank" href="https://www.mygov.in/covid-19">
      <div class="card__img--hover"></div>

      <div class="card__info">
        <span class="card__category"><mark>INDIA</mark></span>
        <div class="card__title" *ngFor="let area of forecasts?.areas">
          <div *ngIf="area.id=='india'">
            <p>Confirmed : {{area?.totalConfirmed | number}}</p>
            <p>Recovered : {{area?.totalRecovered | number}}</p>
            <p>Deaths : {{area?.totalDeaths | number}}</p>
          </div>
        </div>
        <span class="card__title card__by">Click the tile for <a href="#" class="card__author" title="author">Official Information</a></span>
      </div>
    </a>
  </article>

</section>

<br />

<mat-form-field appearance="outline" class="itemspace" style="width:380px !important">
  <mat-label class="card__category">Search for Countries Here</mat-label>
  <label class="card__category">
    <input matInput (keyup)="applyFilter($event)" placeholder="Country Name">
  </label>
</mat-form-field>

<br />

<table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

  <!--- Note that these columns can be defined in any order.
      The actual rendered columns are set as a property on the row definition" -->
  <!-- Position Column -->
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Country</th>
    <td mat-cell *matCellDef="let element"> {{element.displayName | titlecase}} </td>
  </ng-container>

  <!-- Name Column -->
  <ng-container matColumnDef="totalConfirmed">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Total Cases</th>
    <td mat-cell *matCellDef="let element"> {{element.totalConfirmed | number}} </td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="totalRecovered">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Recovered</th>
    <td mat-cell *matCellDef="let element"> {{element.totalRecovered | number}} </td>
  </ng-container>

  <!-- Symbol Column -->
  <ng-container matColumnDef="totalDeaths">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Deaths</th>
    <td mat-cell *matCellDef="let element"> {{element.totalDeaths | number}} </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
